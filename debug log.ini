=== Goose Tour Bot Starting ===

Log file: scraper/logs/discord_bot.log

Initializing bot...

API server started on port 8000

Railway environment detected - starting health check server...

Health check server started

Starting Discord bot...

[2025-06-16 17:18:03] [INFO    ] discord.client: logging in using static token

2025-06-16 17:18:03 - INFO - logging in using static token

INFO:     Started server process [1]

INFO:     Waiting for application startup.

INFO:     Application startup complete.

INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)

[2025-06-16 17:18:04] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 696e2c9caf6566e451f35f17bfa65fc8).

2025-06-16 17:18:04 - INFO - Shard ID None has connected to Gateway (Session ID: 696e2c9caf6566e451f35f17bfa65fc8).

2025-06-16 17:18:06,068 - discord_bot - INFO - Bot connected as RoadDog

2025-06-16 17:18:06 - INFO - Bot connected as RoadDog

2025-06-16 17:18:06,068 - discord_bot - DEBUG - Bot user ID: 1355578032714154038

2025-06-16 17:18:06 - DEBUG - Bot user ID: 1355578032714154038

2025-06-16 17:18:06,068 - discord_bot - DEBUG - Bot is in 1 guilds

2025-06-16 17:18:06 - DEBUG - Bot is in 1 guilds

2025-06-16 17:18:06,068 - discord_bot - INFO - Bot connected to channel: tour-dates

2025-06-16 17:18:06 - INFO - Bot connected to channel: tour-dates

2025-06-16 17:18:06,244 - discord_bot - INFO - Commands synced to guild: 680095250198560823

2025-06-16 17:18:06 - INFO - Commands synced to guild: 680095250198560823

2025-06-16 17:18:06,245 - discord_bot - DEBUG - GooseTourBot setup completed

2025-06-16 17:18:06 - DEBUG - GooseTourBot setup completed

[2025-06-16 17:19:59] [ERROR   ] discord.app_commands.tree: Ignoring exception in command tree

Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/discord/app_commands/tree.py", line 1089, in wrapper

    await self._call(interaction)

  File "/usr/local/lib/python3.11/site-packages/discord/app_commands/tree.py", line 1221, in _call

    command, options = self._get_app_command_options(data)

                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

  File "/usr/local/lib/python3.11/site-packages/discord/app_commands/tree.py", line 1125, in _get_app_command_options

    raise CommandNotFound(name, parents)

discord.app_commands.errors.CommandNotFound: Application command 'status' not found

2025-06-16 17:19:59 - ERROR - Ignoring exception in command tree

Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/discord/app_commands/tree.py", line 1089, in wrapper

    await self._call(interaction)

  File "/usr/local/lib/python3.11/site-packages/discord/app_commands/tree.py", line 1221, in _call

    command, options = self._get_app_command_options(data)

                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

  File "/usr/local/lib/python3.11/site-packages/discord/app_commands/tree.py", line 1125, in _get_app_command_options

    raise CommandNotFound(name, parents)

    discord.app_commands.errors.CommandNotFound: Application command 'status' not found

2025-06-16 17:20:11,944 - discord_bot - DEBUG - Status command received, deferring response

2025-06-16 17:20:11 - DEBUG - Status command received, deferring response

2025-06-16 17:20:12,176 - discord_bot - INFO - Status check completed successfully

2025-06-16 17:20:12 - INFO - Status check completed successfully

2025-06-16 17:20:22,933 - discord_bot - DEBUG - Scrape command received, deferring response

2025-06-16 17:20:22 - DEBUG - Scrape command received, deferring response

2025-06-16 17:20:23,128 - discord_bot - INFO - Starting manual scrape process

2025-06-16 17:20:23 - INFO - Starting manual scrape process

2025-06-16 17:20:23,128 - discord_bot - DEBUG - Calling process_new_concerts()

2025-06-16 17:20:23 - DEBUG - Calling process_new_concerts()

[DEBUG] Running scraper to get latest concerts...

2025-06-16 17:20:23 - INFO - Starting new scraping session

[DEBUG] Initializing GooseTourScraper...

[DEBUG] Starting to scrape tour dates...

2025-06-16 17:20:23 - INFO - Starting new scraping session

2025-06-16 17:20:23 - INFO - Driver downloading response is 200

2025-06-16 17:20:23 - INFO - ====== WebDriver manager ======

2025-06-16 17:20:23 - INFO - Get LATEST chromedriver version for google-chrome

2025-06-16 17:20:23 - INFO - Get LATEST chromedriver version for google-chrome

/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py:1097: InsecureRequestWarning: Unverified HTTPS request is being made to host 'googlechromelabs.github.io'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings

/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py:1097: InsecureRequestWarning: Unverified HTTPS request is being made to host 'googlechromelabs.github.io'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings

  warnings.warn(

  warnings.warn(

    2025-06-16 17:20:23 - INFO - Get LATEST chromedriver version for google-chrome

[DEBUG] Added concert: Park City Song Summit

2025-06-16 17:20:23 - INFO - Driver has been saved in cache [/root/.wdm/drivers/chromedriver/linux64/137.0.7151.70]

/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py:1097: InsecureRequestWarning: Unverified HTTPS request is being made to host 'googlechromelabs.github.io'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings

[DEBUG] Initial ChromeDriver path: /root/.wdm/drivers/chromedriver/linux64/137.0.7151.70/chromedriver-linux64/THIRD_PARTY_NOTICES.chromedriver

[DEBUG] Parsing date text: AUG 28, 2025

  warnings.warn(

[DEBUG] Using ChromeDriver path: /root/.wdm/drivers/chromedriver/linux64/137.0.7151.70/chromedriver-linux64/chromedriver

[DEBUG] Parsed dates: start=2025-08-28 00:00:00, end=2025-08-28 00:00:00

2025-06-16 17:20:23 - INFO - There is no [linux64] chromedriver "137.0.7151.70" for browser google-chrome "137.0.7151" in cache

2025-06-16 17:20:23 - INFO - Get LATEST chromedriver version for google-chrome

[DEBUG] Added concert: University of Iowa

[DEBUG] Page loaded.

[DEBUG] Waiting for shows to load...

[DEBUG] Parsing date text: AUG 31, 2025

[DEBUG] Parsing date text: SEP 23, 2025

usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py:1097: InsecureRequestWarning: Unverified HTTPS request is being made to host 'googlechromelabs.github.io'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings

[DEBUG] Found 27 shows.

[DEBUG] Parsing date text: JUN 17, 2025

  warnings.warn(

[DEBUG] Parsed dates: start=2025-09-23 00:00:00, end=2025-09-23 00:00:00

[DEBUG] Parsed dates: start=2025-08-31 00:00:00, end=2025-08-31 00:00:00

[DEBUG] Parsed dates: start=2025-06-17 00:00:00, end=2025-06-17 00:00:00

[DEBUG] Added concert: Louisville Palace Theatre

/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py:1097: InsecureRequestWarning: Unverified HTTPS request is being made to host 'googlechromelabs.github.io'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings

[DEBUG] Added concert: The Gorge Amphitheatre

[DEBUG] Added concert: Live Oak Bank Pavilion

[DEBUG] Parsing date text: SEP 24, 2025

[DEBUG] Parsing date text: JUN 19, 2025

[DEBUG] Parsing date text: SEP 12, 2025

  warnings.warn(

[DEBUG] Parsed dates: start=2025-09-24 00:00:00, end=2025-09-24 00:00:00

[DEBUG] Parsed dates: start=2025-06-19 00:00:00, end=2025-06-19 00:00:00

[DEBUG] Parsed dates: start=2025-09-12 00:00:00, end=2025-09-12 00:00:00

[DEBUG] Added concert: Louisville Palace Theatre

[DEBUG] Added concert: Jacobs Pavilion at Nautica


2025-06-16 17:20:23 - INFO - WebDriver version 137.0.7151.70 selected

[DEBUG] Added concert: Harvest Music Festival

[DEBUG] Parsing date text: JUN 20, 2025

[DEBUG] Parsing date text: SEP 26, 2025

[DEBUG] Parsing date text: SEP 14, 2025

2025-06-16 17:20:23 - INFO - Modern chrome version https://storage.googleapis.com/chrome-for-testing-public/137.0.7151.70/linux64/chromedriver-linux64.zip

[DEBUG] Parsed dates: start=2025-09-26 00:00:00, end=2025-09-26 00:00:00

[DEBUG] Parsed dates: start=2025-06-20 00:00:00, end=2025-06-20 00:00:00

[DEBUG] Added concert: Ameris Bank Amphitheatre

[DEBUG] Added concert: Jacobs Pavilion at Nautica

[DEBUG] Parsing date text: SEP 27, 2025

[DEBUG] Parsed dates: start=2025-09-14 00:00:00, end=2025-09-14 00:00:00

2025-06-16 17:20:23 - INFO - About to download new driver from https://storage.googleapis.com/chrome-for-testing-public/137.0.7151.70/linux64/chromedriver-linux64.zip

[DEBUG] Parsing date text: JUN 21, 2025

[DEBUG] Parsed dates: start=2025-09-27 00:00:00, end=2025-09-27 00:00:00

[DEBUG] Added concert: Waterfront Park

[DEBUG] Parsed dates: start=2025-06-21 00:00:00, end=2025-06-21 00:00:00

[DEBUG] Added concert: PNC Music Pavilion

/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py:1097: InsecureRequestWarning: Unverified HTTPS request is being made to host 'storage.googleapis.com'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings

[DEBUG] Added concert: CMAC

DEBUG] Parsing date text: SEP 17, 2025

[DEBUG] Parsing date text: SEP 30, 2025

[DEBUG] Parsing date text: JUN 22, 2025

  warnings.warn(

[DEBUG] Parsed dates: start=2025-09-17 00:00:00, end=2025-09-17 00:00:00

[DEBUG] Parsed dates: start=2025-09-30 00:00:00, end=2025-09-30 00:00:00

[DEBUG] Parsed dates: start=2025-06-22 00:00:00, end=2025-06-22 00:00:00

[DEBUG] Added concert: Kohl Center

[DEBUG] Added concert: KEMBA Live!

[DEBUG] Added concert: Mountain Jam

[DEBUG] Parsing date text: SEP 19, 2025

[DEBUG] Parsing date text: OCT 2, 2025

[DEBUG] Parsing date text: JUN 27, 2025

[DEBUG] Parsed dates: start=2025-10-02 00:00:00, end=2025-10-02 00:00:00

[DEBUG] Parsed dates: start=2025-09-19 00:00:00, end=2025-09-19 00:00:00

[DEBUG] Parsing date text: OCT 4, 2025

[DEBUG] Parsed dates: start=2025-06-27 00:00:00, end=2025-06-27 00:00:00

[DEBUG] Added concert: Allianz Amphitheater at Riverfront

[DEBUG] Added concert: Michigan Lottery Amphitheatre at Freedom Hill

[DEBUG] Added concert: Bank of New Hampshire Pavilion

[DEBUG] Parsed dates: start=2025-10-04 00:00:00, end=2025-10-04 00:00:00

[DEBUG] Parsing date text: OCT 3, 2025

[DEBUG] Parsing date text: SEP 20, 2025

[DEBUG] Parsing date text: JUN 28, 2025

[DEBUG] Added concert: TD Pavilion at The Mann


[DEBUG] Parsed dates: start=2025-10-03 00:00:00, end=2025-10-03 00:00:00

[DEBUG] Parsed dates: start=2025-09-20 00:00:00, end=2025-09-20 00:00:00

[DEBUG] Parsing date text: OCT 5, 2025

[DEBUG] Parsed dates: start=2025-06-28 00:00:00, end=2025-06-28 00:00:00

[DEBUG] Added concert: Allianz Amphitheater at Riverfront

[DEBUG] Added concert: Huntington Bank Pavilion at Northerly Island

[DEBUG] Parsed dates: start=2025-10-05 00:00:00, end=2025-10-05 00:00:00

[DEBUG] Added concert: Rise Festival

[DEBUG] Added concert: Madison Square Garden

[DEBUG] Parsing date text: OCT 30, 2025 - NOV 2, 2025

[DEBUG] Parsing date text: JUN 29, 2025

[DEBUG] Parsed dates: start=2025-10-30 00:00:00, end=2025-11-02 00:00:00

2025-06-16 17:20:31,800 - discord_bot - INFO - Scrape completed. Found 4 new concerts

[DEBUG] Added concert: Suwannee Hulaween

[DEBUG] Parsed dates: start=2025-06-29 00:00:00, end=2025-06-29 00:00:00

2025-06-16 17:20:31 - INFO - Scrape completed. Found 4 new concerts

[DEBUG] Scraped 27 concerts.

DEBUG] Added concert: Westville Music Bowl

2025-06-16 17:20:31,800 - discord_bot - DEBUG - Posting new concerts to Discord

2025-06-16 17:20:31 - INFO - Scraping completed. Found 27 shows

[DEBUG] Parsing date text: JUL 25, 2025

2025-06-16 17:20:31 - DEBUG - Posting new concerts to Discord

[DEBUG] Saved JSON file to: scraper/data/scraped_concerts/tour_dates_20250616_172031.json

[DEBUG] Parsed dates: start=2025-07-25 00:00:00, end=2025-07-25 00:00:00

2025-06-16 17:20:31,929 - discord_bot - ERROR - Failed to post concerts: 403 Forbidden (error code: 50001): Missing Access

[DEBUG] Saved CSV file to: scraper/data/scraped_concerts/tour_dates_20250616_172031.csv

[DEBUG] Added concert: Newport Folk Festival

2025-06-16 17:20:31 - ERROR - Failed to post concerts: 403 Forbidden (error code: 50001): Missing Access

[DEBUG] Parsing date text: AUG 14, 2025 - AUG 16, 2025

[DEBUG] Processing with current file: scraper/data/scraped_concerts/tour_dates_20250616_172031.json

[DEBUG] Parsed dates: start=2025-08-14 00:00:00, end=2025-08-16 00:00:00

[DEBUG] Loading current concerts from: scraper/data/scraped_concerts/tour_dates_20250616_172031.json

2025-06-16 17:20:31,931 - discord_bot - ERROR - Error during scrape: Failed to post concerts: 403 Forbidden (error code: 50001): Missing Access

[DEBUG] Loaded 27 current concerts

Traceback (most recent call last):

 File "/app/scraper/discord_bot.py", line 220, in post_new_concerts

[DEBUG] Loading previous concerts from: scraper/data/scraped_concerts/tour_dates_20250517_182142.json

    await self.channel.send(message)

[DEBUG] Loaded 38 previous concerts

[DEBUG] Found 38 previous event IDs

  File "/usr/local/lib/python3.11/site-packages/discord/abc.py", line 1561, in send

[DEBUG] New concerts found:

    data = await state.http.send_message(channel.id, params=params)

  - Waterfront Park on 2025-09-14T00:00:00

           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

 

  File "/usr/local/lib/python3.11/site-packages/discord/http.py", line 739, in request

    raise Forbidden(response, data)

  - Allianz Amphitheater at Riverfront on 2025-10-02T00:00:00

discord.errors.Forbidden: 403 Forbidden (error code: 50001): Missing Access

Traceback (most recent call last):

 

  - Allianz Amphitheater at Riverfront on 2025-10-03T00:00:00

  File "/app/scraper/discord_bot.py", line 382, in manual_scrape

During handling of the above exception, another exception occurred:

  - TD Pavilion at The Mann on 2025-10-04T00:00:00

    await goose_bot.post_new_concerts(new_concerts)

[DEBUG] Saved new concerts to JSON: scraper/data/new_concerts/new_concerts_20250616_172031.json

  File "/app/scraper/discord_bot.py", line 229, in post_new_concerts

[DEBUG] Saved new concerts to CSV: scraper/data/new_concerts/new_concerts_20250616_172031.csv

    raise BotError(f"Failed to post concerts: {e}")

2025-06-16 17:20:31 - INFO - New concert found: Waterfront Park on 2025-09-14T00:00:00

BotError: Failed to post concerts: 403 Forbidden (error code: 50001): Missing Access

2025-06-16 17:20:31 - INFO - New concert found: Allianz Amphitheater at Riverfront on 2025-10-02T00:00:00

2025-06-16 17:20:31 - INFO - New concert found: Allianz Amphitheater at Riverfront on 2025-10-03T00:00:00

 

2025-06-16 17:20:31 - INFO - New concert found: TD Pavilion at The Mann on 2025-10-04T00:00:00

2025-06-16 17:20:31 - ERROR - Error during scrape: Failed to post concerts: 403 Forbidden (error code: 50001): Missing Access

[DEBUG] Found 4 JSON files and 4 CSV files

Traceback (most recent call last):

[DEBUG] Deleting old file: scraper/data/scraped_concerts/tour_dates_20250517_180948.json

  File "/app/scraper/discord_bot.py", line 220, in post_new_concerts

[DEBUG] Deleting old file: scraper/data/scraped_concerts/tour_dates_20250517_181307.json

    await self.channel.send(message)

[DEBUG] Deleting old file: scraper/data/scraped_concerts/tour_dates_20250517_180948.csv

  File "/usr/local/lib/python3.11/site-packages/discord/abc.py", line 1561, in send

[DEBUG] Deleting old file: scraper/data/scraped_concerts/tour_dates_20250517_181307.csv

    data = await state.http.send_message(channel.id, params=params)

2025-06-16 17:20:31 - INFO - Scraping completed. Found 27 shows

           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

  File "/usr/local/lib/python3.11/site-packages/discord/http.py", line 739, in request

    raise Forbidden(response, data)

discord.errors.Forbidden: 403 Forbidden (error code: 50001): Missing Access

During handling of the above exception, another exception occurred:

 

Traceback (most recent call last):

  File "/app/scraper/discord_bot.py", line 382, in manual_scrape

    await goose_bot.post_new_concerts(new_concerts)

  File "/app/scraper/discord_bot.py", line 229, in post_new_concerts

    raise BotError(f"Failed to post concerts: {e}")

BotError: Failed to post concerts: 403 Forbidden (error code: 50001): Missing Access

 
